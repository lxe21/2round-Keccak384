#include<bits/stdc++.h>
#include"SHA3.h"
#include"EQU.h"
using namespace std;
//char s[1678]="0010110101100111111110101101000001000111111010111101111110100110000000000000000000000000000000000000000000000000000000000000000011011111111110001111110011110001010111110101101011011111111011011100100110010010100110000010110100100101100101001011010010111011111111111111111111111111111111111111111111111111111111111111111110101111101010010011101101101000111100110010000100110111110110011000110101101001001110011011111111111111111111111111111111111111111010110100111111100000010010110111010111001010000001111001000011001001100100101001100001101100001001001001010010110100101110111111111111111111111111111111111111111111111111111111111111111111011111010011000100111110110001010100100100110101000101111000000010001101011010010011100110111111111111111111111111111111111111110011010010110111000101011001111000001110100100001101100001111101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
void ip(int*x)
{	for(int i=0;i<25;i++)
		for(int j=15;j>=0;j--)
		{	char ch;
			scanf(" %c",&ch);
			int c=ch>'9'?ch-'a'+10:ch-'0';
			for(int k=3;k>=0;k--)
				if(c&(1<<k))x[i*64+j*4+k]=1;
				else x[i*64+j*4+k]=0;
		}
}
void op(int*x,int k=1600)
{	for(int i=0;i<k/64;i++)
	{	for(int j=60;j>=0;j-=4)
		{	int c=0;
			for(int k=3;k>=0;k--)
				c=c*2+x[i*64+j+k];
			printf("%c",c>9?c-10+'a':c+'0');
		}
		if(i%5==4)printf("\n");
		else printf(" ");
	}
	printf("\n");
}
int main()
{	freopen("res.txt","r",stdin);
	int x[1600];
	//for(int i=0;i<1600;i++)x[i]=s[i]-'0';
	ip(x);
	for(int i=0;i<2*384;i++)assert(x[1599-i]==0);
	assert(x[1599-2*384]==1);
	printf("Start\n");
	op(x);
	for(int i=0;i<2;i++)
	{	printf("Round #%d\n",i);
		__Theta(x);
		printf("After Theta\n");
		op(x);
		__Rho(x);
		printf("After Rho\n");
		op(x);
		__Pi(x);
		printf("After Pi\n");
		op(x);
		__Chi(x);
		printf("After Chi\n");
		op(x);
		__Iota(x,i);
		printf("After Iota\n");
		op(x);
	}
	printf("Digest\n");
	op(x,384);
	return 0;
}
